├── CMakeLists.txt              # Файл для сборки проекта
├── source/                        # Исходный код
│
└───── server/                 # Серверная часть
   │   ├── Server.h        @   # Заголовочный файл класса сервера
   │   ├── Server.cpp      @   # Реализация сервера
   │   └── ServerMain.cpp  @   # Точка входа сервера (main функция)
   │
   ├── client/                 # Клиентская часть
   │   ├── Client.h        @   # Заголовочный файл класса клиента
   │   ├── Client.cpp      @   # Реализация клиента
   │   └── ClientMain.cpp  @   # Точка входа клиента (main функция)
   │
   ├── common/                 # Общие компоненты для клиента и сервера
   │   ├── Graph.h         @   # Заголовочный файл класса графа
   │   ├── Graph.cpp       @   # Реализация методов графа
   │   ├── Protocol.h      @   # Общие константы, структуры для сетевого протокола
   │   ├── Protocol.cpp    @   # Реализация функций сериализации и десериализации
   │   └── Dijkstra.h      @   # Алгоритм Дейкстры
   │
   └── utils/                  # Вспомогательные утилиты
       ├── InputParser.h   @   # Парсинг входных данных
       ├── InputParser.cpp @   # Реализация парсера
       ├── Validator.h     @   # Валидация данных
       ├── Validator.cpp   @   # Реализация валидации
       ├── Logger.h        @   # Логирование
       └── Logger.cpp      @   # Реализация логгера
       
       
       
Как запустить:

1. Сначала запустите сервер (в одном терминале):

2. Затем запустите клиент (в другом терминале):

Примеры:
./client 127.0.0.1 tcp 8080      # Подключение к локальному TCP серверу
./client localhost udp 12345     # Подключение к локальному UDP серверу


Терминал 1 (сервер):

cd ~/client_server_app/build
./server 8080

Терминал 2 (клиент):
Ctrl+Shift+T
cd ~/client_server_app/build
./client 127.0.0.1 tcp 8080

Если хотите протестировать UDP:

Терминал 1 (сервер):

./server 12345 udp

Терминал 2 (клиент):

./client 127.0.0.1 udp 12345

После запуска клиента:

1. Введите описание графа в формате: A B, B C, C D, D E, E F, F G, A C, B D
2. Затем введите начальную и конечную вершины: A G
3. Программа найдет путь между вершинами!

Завершить работу сервера:

Ctrl + C



как именно я обрабатываю нескольких клиентов + какие системные вызовы и какие механизмы
kill all server




Для TCP протокола механизм многопоточность

Главный поток принимает подключения через accept()
Для каждого нового клиента создается отдельный поток
Каждый поток работает независимо, обрабатывая своего клиента
Потоки хранятся в векторе clientThreads для управления жизненным циклом

Для UDP протокола механизм однопоточная обработка в цикле

Один поток обрабатывает все запросы
Каждая датаграмма обрабатывается последовательно
Состояние клиента не сохраняется между запросами

socket() - создание сокета, первый параметр - домен - определяет семейство адресов, которые будет использовать сокет, второй это тип udp или tcp, потом 0 это протокол по умолчанию выбирается для предыдущего параметра
bind() - связывает сокет с конкретным портом и IP-адресом
listen() - переводит сокет в режим прослушивания, у меня создаёт очередь из 5ти клиентов
accept() - принятие подключения (только TCP) извлекает первое ожидающее подключение из очереди (созданной listen()) создаёт новый сокет специально для общения с этим клиентом и возвращает дескриптор нового сокета. Без очереди вы бы теряли клиентов в моменты, когда главный поток занят вызовом accept() или созданием потоков.
recv() / recvfrom() - получение данных, возвращает количество байт или 0 если клиент закрыл соединение и нечего читать
send() / sendto() - отправка данных
close() - закрытие сокета. Освобождение файлового дескриптора, завершение сетевого соединения (для TCP), освобождение ресурсов ядра

Главный поток:
1. socket() bind() listen() accept() (ждет)
2. Новый клиент accept() возвращает clientSocket
3. create thread(handleTCPClient, clientSocket)
4. Возврат к accept() (ждет следующего клиента)

Поток клиента:
1. receiveTCP() - получает запрос
2. processRequest() - обрабатывает
3. sendTCP() - отправляет ответ
4. close(clientSocket) - закрывает соединение
